#include <stdio.h>
#include <string.h>

typedef struct
{
	int dia,mes,year,edad;
	char nombre[30];
	long long int dinero;
}jugador;
typedef struct
{
	char pregunta[100],respuesta[100];
	int correcta;
}preguntas;

long long int tragaperras();
long long int ruleta();
long long int blackjack();
long long int atrapa();

int main()
{
	char s;
	jugador j1;
	do
	{
	printf("Bienvenido al casino de DonComedia!!! (Solo apto para mayores de edad)\n\nA continuacion introduce los siguientes datos\n\n");
	printf("Nombre completo\n");
	scanf(" %30[^\n]",j1.nombre);
	printf("Nombre: %s\n\n", j1.nombre);
	printf("Fecha de nacimiento (dd mm yyyy)\n");
	scanf(" %d %d %d",&j1.dia,&j1.mes,&j1.year);
	if (j1.dia>31 || j1.dia<1 || j1.mes>12 || j1.mes<1|| j1.year>2020)
	{
		printf("Escribe una fecha de nacimiento valida\n");
		scanf(" %d %d %d",&j1.dia,&j1.mes,&j1.year);
	}
	printf("Fecha de nacimiento: %d %d %d\n\n",j1.dia,j1.mes,j1.year);
	j1.edad=2020-j1.year;
	j1.dinero=0;
	if (j1.edad<18)
	printf("Lo siento, si eres menor de edad no puedes jugar\n\n");
	}
	while(j1.edad<18);
	
    int op,p=1;
    do
	{
    printf("Perfecto.\nAhora piense en que juego quiere participar:\n\n");
    printf("Actualmente disponemos de tragaperras(1), blackjack(2), ruleta(3) o atrapa un millon(4)\n\n");
    
		printf("Escribe el numero del juego al que quiere participar porfavor:\n\n");
        scanf("%i",&op);

        switch(op)
    	{
        case 1:
			{printf("Has decidido jugar a las tragaperras.\n\n");
			j1.dinero+=tragaperras();}
        break;
        case 2:
        	{printf("Has decidido jugar a la ruleta. Apueste a numeros rojos,negros o a un numero en concreto\n\n");
        	j1.dinero+=ruleta();}
        break;
        case 3:
        	{printf("Has decidido jugar a el blackjack.\n\n");
        	j1.dinero+=blackjack();}
        break;
        case 4:
        	{printf("Has decidido atrapa un millon,consistira en acertar 10 preguntas donde se daran 4 opciones.\nSi acierta la primera pregunta avanzara a la siguiente y lo mas importante Â¡Conseguira mas dinero!\n\n");
        	j1.dinero+=atrapa();}
        break;
    
        }
	printf("dinero acumulado : %lli$\n\n",j1.dinero);
	printf("Si desea jugar de nuevo pulse '1'\n");
    scanf("%d",&p);
	}
	while(p==1);
	return 0;
}

long long int tragaperras()
{
	
}
long long int ruleta()
{
	
}
long long int blackjack()
{
	
}
long long int atrapa()
{
	preguntas p[10];
	long long int dinero=0;
	int i,n;
	strcpy(p[0].pregunta,"Quien escribio La Odisea?");
	strcpy(p[0].respuesta,"1)Homero 3)Cervantes\n2)Platon 4)Ken Follet");
	p[0].correcta=1;
	strcpy(p[1].pregunta,"Como se llama la capital de Mongolia?");
	strcpy(p[1].respuesta,"1)Pekin 3)Ulan Bator\n2)Islamabad 4)Kabul");
	p[1].correcta=3;
	strcpy(p[2].pregunta,"Cual es el rio mas largo del mundo?");
	strcpy(p[2].respuesta,"1)Yangtse 3)Amazonas\n2)Misisipi 4)Nilo");
	p[2].correcta=3;
	strcpy(p[3].pregunta,"Cuando acabo la II Guerra Mundial?");
	strcpy(p[3].respuesta,"1)1939 3)1969\n2)1945 4)1965");
	p[3].correcta=2;
	strcpy(p[4].pregunta,"Donde se encuentra la Sagrada Familia?");
	strcpy(p[4].respuesta,"1)Barcelona 3)Madrid\n2)Paris 4)Santiago");
	p[4].correcta=1;
	strcpy(p[5].pregunta,"Cual es el disco mas vendido de la historia?");
	strcpy(p[5].respuesta,"1)The Wall 3)Back in Black\n2)The Dark Side of the Moon 4)Thriller");
	p[5].correcta=4;
	strcpy(p[6].pregunta,"Que deporte practicaba Michael Jordan?");
	strcpy(p[6].respuesta,"1)Baloncesto 3)Futbol\n2)Beisbol 4)Golf");
	p[6].correcta=1;
	strcpy(p[7].pregunta,"Cual es la moneda del Reino Unido?");
	strcpy(p[7].respuesta,"1)Euro 3)Yuan\n2)Dollar 4)Libra");
	p[7].correcta=4;
	strcpy(p[8].pregunta,"En que lugar del cuerpo se produce la insulina?");
	strcpy(p[8].respuesta,"1)Bazo 3)Estomago\n2)Pancreas 4)Higado");
	p[8].correcta=2;
	strcpy(p[9].pregunta,"De que pais es el futbolista Zlatan Ibrahimovic?");
	strcpy(p[9].respuesta,"1)Croacia 3)Suecia\n2)Francia 4)Austria");
	p[9].correcta=3;
	
	for(i=0;i<10;i++)
	{
		printf("dinero acumulado : %lli$\n\n",dinero);
		printf("%s \n\n",p[i].pregunta);
		printf("%s \n",p[i].respuesta);
		scanf("%d",&n);
		if (n==p[i].correcta)
		{
			printf("CORRECTO. Has ganado 100000$\n\n");
			dinero+=100000;
		}
		else if (n!=p[i].correcta)
		{
			printf("NO ES CORRECTO. Ha conseguido un total de %lli$\n\n",dinero);
			return dinero;
		}
	}
return dinero;
}
